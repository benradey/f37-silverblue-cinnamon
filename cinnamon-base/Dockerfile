FROM ghcr.io/cgwalters/fedora-silverblue:37
RUN rpm-ostree override remove \
  evince-djvu \
  evolution-data-server \
  evolution-data-server-langpacks \
  fprintd-pam \
  gdm \
  geoclue2 \
  gnome-bluetooth \
  gnome-browser-connector \
  gnome-classic-session \
  gnome-control-center \
  gnome-disk-utility \
  gnome-initial-setup \
  gnome-remote-desktop \
  gnome-session \
  gnome-session-wayland-session \
  gnome-session-xsession \
  gnome-settings-daemon \
  gnome-shell \
  gnome-shell-extension-apps-menu \
  gnome-shell-extension-background-logo \
  gnome-shell-extension-common \
  gnome-shell-extension-launch-new-instance \
  gnome-shell-extension-places-menu \
  gnome-shell-extension-window-list \
  gnome-software \
  gnome-software-rpm-ostree \
  gnome-terminal-nautilus \
  gnome-user-docs \
  gnome-user-share \
  gvfs-afc \
  gvfs-afp \
  gvfs-fuse \
  libproxy-duktape \
  libsane-hpaio \
  mutter \
  nautilus \
  orca \
  rygel \
  systemd-oomd-defaults \
  tracker-miners tracker \
  xdg-desktop-portal \
  xdg-desktop-portal-gnome \
  xdg-desktop-portal-gtk \
  yelp \
&& rpm-ostree install \
  abrt-desktop \
  abrt-java-connector \
  blueman \
  cheese \
  cinnamon \
  cinnamon-control-center \
  cinnamon-screensaver \
  eom \
  firewall-config \
  imsettings-systemd \
  metacity \
  mpv \
  nemo-fileroller \
  nemo-image-converter \
  nemo-preview \
  paper-icon-theme \
  powerline \
  setroubleshoot \
  shotwell \
  simple-scan \
  system-config-printer \
  tmux \
  tmux-powerline \
  vim-powerline \
  xawtv \
  xfburn \
&& rm -rf /var/* \
&& ostree container commit
